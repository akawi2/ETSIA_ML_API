#!/bin/sh

# Hook pour empÃªcher les push directs sur main
# Installation: git config core.hooksPath .githooks

protected_branch='main'
current_branch=$(git symbolic-ref HEAD | sed -e 's,.*/\(.*\),\1,')

if [ $current_branch = $protected_branch ]; then
    echo "ðŸš« ERREUR: Push direct sur '$protected_branch' interdit!"
    echo ""
    echo "Workflow correct:"
    echo "  1. CrÃ©er une branche: git checkout -b feat/ma-feature"
    echo "  2. Pousser la branche: git push origin feat/ma-feature"
    echo "  3. CrÃ©er une Pull Request sur GitHub"
    echo ""
    echo "Voir docs/GIT_WORKFLOW.md pour plus d'infos"
    exit 1
fi

exit 0
